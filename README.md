# АСУ АТК (TransportCompany)

Автоматизированная система управления автотранспортным комплексом - Windows Forms приложение для комплексного управления операциями транспортной компании.

## Описание

Система предназначена для автоматизации учета и управления транспортными операциями, включая:

- **Управление автопарком** - учет техосмотров, ОСАГО, водительских удостоверений
- **Дневник автопарка** - регистрация рейсов, путевых листов
- **Финансовый учет** - расчет заработной платы водителей, стоимости рейсов
- **Реестры перевозок** - импорт и редактирование данных о перевозках
- **Аналитика** - сравнение показателей, анализ зон обслуживания

## Технологический стек

### Платформа
- **.NET Framework 4.x** - основная платформа
- **Windows Forms** - пользовательский интерфейс
- **SQL Server** - база данных
- **ClickOnce** - развертывание приложения

### Ключевые библиотеки

**Обработка документов:**
- NPOI 2.7.3.0 - работа с Excel (HSSF/XSSF)
- HtmlAgilityPack 1.12.1.0 - парсинг HTML
- ICSharpCode.SharpZipLib 1.4.2.13 - сжатие/архивация

**Криптография и безопасность:**
- BouncyCastle.Cryptography 2.0.0.0 - криптографические примитивы
- System.Security.Cryptography.Pkcs 8.0.0.1 - PKCS#7/CMS
- System.Security.Cryptography.Xml 8.0.0.2 - XML подписи

**Вычисления:**
- ExtendedNumerics.BigDecimal 2025.1001.2.129 - произвольная точность для финансов
- MathNet.Numerics 5.0.0.0 - линейная алгебра, оптимизация
- RBush 4.0.0.0 - пространственная индексация

**Производительность:**
- System.Buffers 4.0.3.0 - пулинг массивов
- System.Runtime.CompilerServices.Unsafe 5.0.0.0 - низкоуровневые операции
- Microsoft.IO.RecyclableMemoryStream 3.0.1.0 - пулинг потоков

## Структура базы данных

### Основные таблицы

**TransportRegistry** - реестр перевозок:
- Date, FIO, GosNumber - дата, водитель, гос. номер
- Tonnage, TripCost, OrderNumber - тоннаж, стоимость, номер заказа

**Перевозки** - детали рейсов:
- Дата, ФИО водителя, гос. номер
- Вес груза, расход топлива, прибыль

## Функциональность

### Стартовые проверки
При запуске система автоматически проверяет:
- Истекающие полисы ОСАГО
- Истекающие водительские удостоверения
- Просроченные техосмотры (>3 месяцев)

### Основные модули

**Техосмотр (ТО)** - управление техническим обслуживанием
**Дневник автопарка** - учет ежедневных операций
**Импорт данных** - загрузка данных из внешних источников
**Реестры** - просмотр и редактирование записей
**Заработок** - расчет зарплаты водителей и доходов по ТС
**Сравнение** - анализ показателей по водителям/ТС
**Анализ зон** - территориальная аналитика

## Безопасность

Многоуровневая архитектура безопасности:

1. **Application Security** - SHA-256 верификация манифестов ClickOnce
2. **Cryptographic Libraries** - BouncyCastle, PKCS, XML Crypto
3. **Document Security** - шифрование Office документов (Agile Encryption)
4. **Security Operations** - AES-256, RSA-2048, SHA-256

Поддержка:
- PKCS#7/CMS криптографические сообщения
- XML шифрование и цифровые подписи
- Цифровые подписи Office документов (XAdES)

## Производительность

Оптимизации:
- **Array Pooling** - переиспользование массивов через ArrayPool<T>
- **Unsafe Operations** - прямой доступ к памяти для критичных операций
- **SIMD** - векторизация через System.Numerics.Vectors
- **Arbitrary Precision** - точные финансовые расчеты без ошибок округления

## Конфигурация

**App.config** - основная конфигурация:
```xml
<appSettings>
  <add key="conString" value="..." />
</appSettings>
```

**Config.cs** - управление строкой подключения к БД

## Лицензирование

Проект использует 26 сторонних библиотек под лицензиями:
- **Apache 2.0** - NPOI, SixLabors
- **MIT** - большинство .NET библиотек, HtmlAgilityPack, MathNet
- **BSD-style** - встроенные компоненты

Общий размер зависимостей: ~23 MB

## Документация

Полная документация доступна в папке [`docs/`](docs/):
- [Обзор приложения](docs/1_TransportCompany_Overview.md)
- [Валидация данных](docs/2_Data_Validation.md)
- [Обработка документов](docs/3_Document_Processing.md)
- [Вычислительные системы](docs/4_Computational_Systems.md)
- [Безопасность и криптография](docs/5_Security_Cryptography.md)
- [Инфраструктура производительности](docs/6_Performance_Infrastructure.md)

## Требования

- Windows 7/10/11
- .NET Framework 4.x
- SQL Server (любая версия)
- 50+ MB свободного места

## Разработка

**Язык:** C#  
**IDE:** Visual Studio  
**Решение:** TransportCompany.sln  
**Проект:** TransportCompany.csproj

---

**Документация сгенерирована из:** [DeepWiki](https://deepwiki.com/xxcccc2/ASU-ATK)
